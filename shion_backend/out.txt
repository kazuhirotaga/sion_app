Agent Error: unhandled errors in a TaskGroup (1 sub-exception)
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\ai_agent.py", line 48, in process_chat
  |     async with stdio_client(server_params) as (read_stream, write_stream):
  |                ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  |   File "C:\Python313\Lib\contextlib.py", line 235, in __aexit__
  |     await self.gen.athrow(value)
  |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\mcp\client\stdio\__init__.py", line 183, in stdio_client
  |     anyio.create_task_group() as tg,
  |     ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\mcp\client\stdio\__init__.py", line 189, in stdio_client
    |     yield read_stream, write_stream
    |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\ai_agent.py", line 49, in process_chat
    |     async with ClientSession(read_stream, write_stream) as session:
    |                ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\mcp\shared\session.py", line 238, in __aexit__
    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 783, in __aexit__
    |     raise BaseExceptionGroup(
    |         "unhandled errors in a TaskGroup", self._exceptions
    |     ) from None
    | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\ai_agent.py", line 98, in process_chat
      |     response = genai_client.models.generate_content(
      |         model='gemini-2.5-flash',
      |         contents=contents,
      |         config=config,
      |     )
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\google\genai\models.py", line 5606, in generate_content
      |     return self._generate_content(
      |            ~~~~~~~~~~~~~~~~~~~~~~^
      |         model=model, contents=contents, config=parsed_config
      |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
      |     )
      |     ^
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\google\genai\models.py", line 4283, in _generate_content
      |     response = self._api_client.request(
      |         'post', path, request_dict, http_options
      |     )
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\google\genai\_api_client.py", line 1396, in request
      |     response = self._request(http_request, http_options, stream=False)
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\google\genai\_api_client.py", line 1232, in _request
      |     return self._retry(self._request_once, http_request, stream)  # type: ignore[no-any-return]
      |            ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\tenacity\__init__.py", line 470, in __call__
      |     do = self.iter(retry_state=retry_state)
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\tenacity\__init__.py", line 371, in iter
      |     result = action(retry_state)
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\tenacity\__init__.py", line 413, in exc_check
      |     raise retry_exc.reraise()
      |           ~~~~~~~~~~~~~~~~~^^
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\tenacity\__init__.py", line 184, in reraise
      |     raise self.last_attempt.result()
      |           ~~~~~~~~~~~~~~~~~~~~~~~~^^
      |   File "C:\Python313\Lib\concurrent\futures\_base.py", line 449, in result
      |     return self.__get_result()
      |            ~~~~~~~~~~~~~~~~~^^
      |   File "C:\Python313\Lib\concurrent\futures\_base.py", line 401, in __get_result
      |     raise self._exception
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\tenacity\__init__.py", line 473, in __call__
      |     result = fn(*args, **kwargs)
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\google\genai\_api_client.py", line 1209, in _request_once
      |     errors.APIError.raise_for_response(response)
      |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\google\genai\errors.py", line 134, in raise_for_response
      |     cls.raise_error(response.status_code, response_json, response)
      |     ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\google\genai\errors.py", line 159, in raise_error
      |     raise ClientError(status_code, response_json, response)
      | google.genai.errors.ClientError: 400 INVALID_ARGUMENT. {'error': {'code': 400, 'message': 'API key not valid. Please pass a valid API key.', 'status': 'INVALID_ARGUMENT', 'details': [{'@type': 'type.googleapis.com/google.rpc.ErrorInfo', 'reason': 'API_KEY_INVALID', 'domain': 'googleapis.com', 'metadata': {'service': 'generativelanguage.googleapis.com'}}, {'@type': 'type.googleapis.com/google.rpc.LocalizedMessage', 'locale': 'en-US', 'message': 'API key not valid. Please pass a valid API key.'}]}}
      +------------------------------------

Reply: 騾壻ｿ｡繧ｨ繝ｩ繝ｼ縺檎匱逕溘＠縺ｾ縺励◆縲・
Agent Error: unhandled errors in a TaskGroup (1 sub-exception)
  + Exception Group Traceback (most recent call last):
  |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\ai_agent.py", line 48, in process_chat
  |     async with stdio_client(server_params) as (read_stream, write_stream):
  |                ~~~~~~~~~~~~^^^^^^^^^^^^^^^
  |   File "C:\Python313\Lib\contextlib.py", line 235, in __aexit__
  |     await self.gen.athrow(value)
  |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\mcp\client\stdio\__init__.py", line 183, in stdio_client
  |     anyio.create_task_group() as tg,
  |     ~~~~~~~~~~~~~~~~~~~~~~~^^
  |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  |         "unhandled errors in a TaskGroup", self._exceptions
  |     ) from None
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Exception Group Traceback (most recent call last):
    |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\mcp\client\stdio\__init__.py", line 189, in stdio_client
    |     yield read_stream, write_stream
    |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\ai_agent.py", line 49, in process_chat
    |     async with ClientSession(read_stream, write_stream) as session:
    |                ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\mcp\shared\session.py", line 238, in __aexit__
    |     return await self._task_group.__aexit__(exc_type, exc_val, exc_tb)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\anyio\_backends\_asyncio.py", line 783, in __aexit__
    |     raise BaseExceptionGroup(
    |         "unhandled errors in a TaskGroup", self._exceptions
    |     ) from None
    | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
    +-+---------------- 1 ----------------
      | Traceback (most recent call last):
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\ai_agent.py", line 98, in process_chat
      |     response = genai_client.models.generate_content(
      |         model='gemini-2.5-flash',
      |         contents=contents,
      |         config=config,
      |     )
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\google\genai\models.py", line 5606, in generate_content
      |     return self._generate_content(
      |            ~~~~~~~~~~~~~~~~~~~~~~^
      |         model=model, contents=contents, config=parsed_config
      |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
      |     )
      |     ^
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\google\genai\models.py", line 4283, in _generate_content
      |     response = self._api_client.request(
      |         'post', path, request_dict, http_options
      |     )
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\google\genai\_api_client.py", line 1396, in request
      |     response = self._request(http_request, http_options, stream=False)
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\google\genai\_api_client.py", line 1232, in _request
      |     return self._retry(self._request_once, http_request, stream)  # type: ignore[no-any-return]
      |            ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\tenacity\__init__.py", line 470, in __call__
      |     do = self.iter(retry_state=retry_state)
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\tenacity\__init__.py", line 371, in iter
      |     result = action(retry_state)
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\tenacity\__init__.py", line 413, in exc_check
      |     raise retry_exc.reraise()
      |           ~~~~~~~~~~~~~~~~~^^
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\tenacity\__init__.py", line 184, in reraise
      |     raise self.last_attempt.result()
      |           ~~~~~~~~~~~~~~~~~~~~~~~~^^
      |   File "C:\Python313\Lib\concurrent\futures\_base.py", line 449, in result
      |     return self.__get_result()
      |            ~~~~~~~~~~~~~~~~~^^
      |   File "C:\Python313\Lib\concurrent\futures\_base.py", line 401, in __get_result
      |     raise self._exception
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\tenacity\__init__.py", line 473, in __call__
      |     result = fn(*args, **kwargs)
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\google\genai\_api_client.py", line 1209, in _request_once
      |     errors.APIError.raise_for_response(response)
      |     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\google\genai\errors.py", line 134, in raise_for_response
      |     cls.raise_error(response.status_code, response_json, response)
      |     ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
      |   File "C:\Users\ikaru\.gemini\antigravity\scratch\Shion-Core\shion_backend\venv\Lib\site-packages\google\genai\errors.py", line 159, in raise_error
      |     raise ClientError(status_code, response_json, response)
      | google.genai.errors.ClientError: 400 INVALID_ARGUMENT. {'error': {'code': 400, 'message': 'API key not valid. Please pass a valid API key.', 'status': 'INVALID_ARGUMENT', 'details': [{'@type': 'type.googleapis.com/google.rpc.ErrorInfo', 'reason': 'API_KEY_INVALID', 'domain': 'googleapis.com', 'metadata': {'service': 'generativelanguage.googleapis.com'}}, {'@type': 'type.googleapis.com/google.rpc.LocalizedMessage', 'locale': 'en-US', 'message': 'API key not valid. Please pass a valid API key.'}]}}
      +------------------------------------

Reply 2: 騾壻ｿ｡繧ｨ繝ｩ繝ｼ縺檎匱逕溘＠縺ｾ縺励◆縲・
